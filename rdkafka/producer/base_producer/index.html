<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `base_producer` mod in crate `rdkafka`."><meta name="keywords" content="rust, rustlang, rust-lang, base_producer"><title>rdkafka::producer::base_producer - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css"><link rel="stylesheet" type="text/css" href="../../../light.css" id="themeStyle"><script src="../../../storage.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="shortcut icon" href="../../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../../rdkafka/index.html'><div class='logo-container'><img src='../../../rust-logo.png' alt='logo'></div></a><p class='location'>Module base_producer</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#reexports">Re-exports</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li></ul></div><p class='location'><a href='../../index.html'>rdkafka</a>::<wbr><a href='../index.html'>producer</a></p><script>window.sidebarCurrent = {name: 'base_producer', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../../src/rdkafka/producer/base_producer.rs.html#1-531' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../../index.html'>rdkafka</a>::<wbr><a href='../index.html'>producer</a>::<wbr><a class="mod" href=''>base_producer</a></span></h1><div class='docblock'><p>Low level Kafka producers.</p>
<p>For more information about the producers provided in rdkafka, refer to the module level documentation.</p>
<h2 id="baseproducer" class="section-header"><a href="#baseproducer"><code>BaseProducer</code></a></h2>
<p>The <code>BaseProducer</code> is a low level Kafka producer designed to be as similar as possible to
the underlying C librdkafka producer, while maintaining a safe Rust interface.</p>
<p>Production of messages is fully asynchronous. The librdkafka producer will take care of buffering
requests together according to configuration, and to send them efficiently. Once a message has
been produced, or the retry count reached, a callback function called delivery callback will be
called.</p>
<p>The <code>BaseProducer</code> requires a <code>ProducerContext</code> which will be used to specify the delivery callback
and the <code>DeliveryOpaque</code>. The <code>DeliveryOpaque</code> is a user-defined type that the user can pass to the
<code>send</code> method of the producer, and that the producer will then forward to the delivery
callback of the corresponding message. The <code>DeliveryOpaque</code> is useful in case the delivery
callback requires additional information about the message (such as message id for example).</p>
<h3 id="calling-poll" class="section-header"><a href="#calling-poll">Calling poll</a></h3>
<p>To execute delivery callbacks the <code>poll</code> method of the producer should be called regularly.
If <code>poll</code> is not called, or not often enough, a <code>RDKafkaError::QueueFull</code> error will be returned.</p>
<h2 id="threadedproducer" class="section-header"><a href="#threadedproducer"><code>ThreadedProducer</code></a></h2>
<p>The <code>ThreadedProducer</code> is a wrapper around the <code>BaseProducer</code> which spawns a thread
dedicated to calling <code>poll</code> on the producer at regular intervals, so that the user doesn't
have to. The thread is started when the producer is created, and it will be terminated
once the producer goes out of scope.</p>
<p>A <code>RDKafkaError::QueueFull</code> error can still be returned in case the polling thread is not
fast enough or Kafka is not able to receive data and acknowledge messages quickly enough.
If this error is returned, the producer should wait and try again.</p>
</div><h2 id='reexports' class='section-header'><a href="#reexports">Re-exports</a></h2>
<table><tr><td><code>pub use crate::message::<a class="type" href="../../../rdkafka/message/type.DeliveryResult.html" title="type rdkafka::message::DeliveryResult">DeliveryResult</a>;</code></td></tr></table><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table><tr class='module-item'><td><a class="struct" href="struct.BaseProducer.html" title='rdkafka::producer::base_producer::BaseProducer struct'>BaseProducer</a></td><td class='docblock-short'><p>Low level Kafka producer.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.BaseRecord.html" title='rdkafka::producer::base_producer::BaseRecord struct'>BaseRecord</a></td><td class='docblock-short'><p>Producer record for the base producer</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.DefaultProducerContext.html" title='rdkafka::producer::base_producer::DefaultProducerContext struct'>DefaultProducerContext</a></td><td class='docblock-short'><p>Default producer context that can be use when a custom context is not required.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.ThreadedProducer.html" title='rdkafka::producer::base_producer::ThreadedProducer struct'>ThreadedProducer</a></td><td class='docblock-short'><p>A producer with a separate thread for event handling.</p>
</td></tr></table><h2 id='traits' class='section-header'><a href="#traits">Traits</a></h2>
<table><tr class='module-item'><td><a class="trait" href="trait.ProducerContext.html" title='rdkafka::producer::base_producer::ProducerContext trait'>ProducerContext</a></td><td class='docblock-short'><p>A <code>ProducerContext</code> is an object that can be used during the creation of a producer to
customizer its behavior. In particular, it can be used to specify the <code>delivery</code> callback
that will be called when the ack from a delivered message is received.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../../";window.currentCrate = "rdkafka";</script><script src="../../../aliases.js"></script><script src="../../../main.js"></script><script defer src="../../../search-index.js"></script></body></html>